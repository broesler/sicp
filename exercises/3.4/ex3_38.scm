;;==============================================================================
;;     File: ex3_38.scm
;;  Created: 02/06/2017, 20:28
;;   Author: Bernie Roesler
;;
;;  Description: Concurrency tests
;;
;;==============================================================================

;;; Three operations in varying orders:
;;; 1. Peter:	(set! balance (+ balance 10))
;;; 2. Paul:	(set! balance (- balance 20))
;;; 3. Mary:	(set! balance (- balance (/ balance 2)))

;------------------------------------------------------------------------------- 
;        (a) all possible runs:
;-------------------------------------------------------------------------------
;;; 6 runs are possible:
;;; 1 2 3
;;;   Peter: 100 +  10  = 110
;;;   Paul:  110 -  20  =  90
;;;   Mary:   90 - 90/2 =  45
;;; 2 1 3
;;;   Paul:  100 -  20  =  80
;;;   Peter:  80 +  10  =  90
;;;   Mary:   90 - 90/2 =  45
;;; 2 3 1
;;;   Paul:  100 -  20  =  80
;;;   Mary:   80 - 80/2 =  40
;;;   Peter:  40 +  10  =  50
;;; 1 3 2
;;;   Peter: 100 +  10   = 110
;;;   Mary:  110 - 110/2 =  55
;;;   Paul:   55 -  20   =  35
;;; 3 1 2
;;;   Mary:  100 - 100/2 =  50
;;;   Peter:  50 +   10  =  60
;;;   Paul:   60 -   20  =  40
;;; 3 2 1
;;;   Mary:  100 - 100/2 =  50
;;;   Paul:   50 -   20  =  30
;;;   Peter:  30 +   10  =  40

;------------------------------------------------------------------------------- 
;        (b) Other values if concurrency is ignored
;-------------------------------------------------------------------------------
;;; 100 --> Peter: 100 + 10 = 110
;;;  |--> Mary: 100 - 100/2 =  50
;;;                             |--> Paul: 50 - 20 = 30
;;==============================================================================
;;==============================================================================
